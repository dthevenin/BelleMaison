function __setPos(b,a,c){if(!b){return;}b.normalStyle.left=a+"px";b.normalStyle.top=c+"px";}function __setSize(c,a,b){if(!c){return;}c.normalStyle.width=a+"px";c.normalStyle.height=b+"px";}function __setVisible(b,a){if(!b){return;}if(b.normalStyle){if(a){b.normalStyle.visibility="visible";}else{b.normalStyle.visibility="hidden";}}}function __getSize(b){var a=new Array();a[0]=0;a[1]=0;if(!b){return a;}a[0]=parseInt(b.normalStyle.width,10);a[1]=parseInt(b.normalStyle.height,10);if(isNaN(a[0])){a[0]=0;}if(isNaN(a[1])){a[1]=0;}return a;}function __getTagName(a){if(!a.tagName){return undefined;}if(typeof a.tagName=="string"){return a.tagName;}if(typeof a.tagName=="function"){return a.tagName();}return undefined;}function __getBorderWidth(b){if(!b){return 0;}var a=parseInt(b.normalStyle.borderWidth,10);if(isNaN(a)){return 0;}return a;}function __getPaddingTop(b){if(!b){return 0;}var a=parseInt(b.normalStyle.paddingTop,10);if(isNaN(a)){return 0;}return a;}function __getPaddingBottom(b){if(!b){return 0;}var a=parseInt(b.normalStyle.paddingBottom,10);if(isNaN(a)){return 0;}return a;}function __getPaddingRight(b){if(!b){return 0;}var a=parseInt(b.normalStyle.paddingRight,10);if(isNaN(a)){return 0;}return a;}function __getPaddingLeft(b){if(!b){return 0;}var a=parseInt(b.normalStyle.paddingLeft,10);if(isNaN(a)){return 0;}return a;}function __isVisible(a){if(!a){return false;}if(a.normalStyle||typeof(a.innerHTML)=="string"){if(a.normalStyle.visibility=="hidden"){return false;}else{return true;}}return true;}function __setInnerText(a,b){if(!a||!a.firstChild){return;}a.firstChild.data=b;}function __getInnerText(a){if(!a||!a.firstChild){return"";}if(!a.firstChild){return"";}return a.firstChild.data;}var abview_proto=new Object();function abview_constructor(a){this._pos=new Array(2);this._pos[0]=-1;this._pos[1]=-1;this._size=new Array(2);this._size[0]=-1;this._size[1]=-1;if(!a){a=new Object();}var b;if(a.id){b=a.id;}else{b=ABObject.createId();a.id=b;}this.apply("ABEventSource","_constructor",b);this._holes=new Object();this.children=new Object();this.view=this._getGUInode(a);if(!this.view){printlnConsole("ABView constructor failed. No view!");return;}this.view.id=this.id;this.view._comp_=this;this._instrument_view(this.view);this._parse_view(this.view);}abview_proto._constructor=abview_constructor;abview_proto._navigation_delegate=null;abview_proto._visible=true;abview_proto._pos=null;abview_proto._size=null;abview_proto._show_animation=null;abview_proto.__show_clb=null;abview_proto._hide_animation=null;abview_proto.__hide_clb=null;function abview_set_navigationDelegate(a){this._navigation_delegate=a;}abview_proto.setNavigationDelegate=abview_set_navigationDelegate;function abview_set_size(a){if(!a){return;}if(!Object.isArray(a)||a.length!=2){return;}if(!Object.isNumber(a[0])||!Object.isNumber(a[1])){return;}if(!this.view){this._size[0]=a[0];this._size[1]=a[1];return;}var b=2*__getBorderWidth(this.view);this._size[0]=a[0]-b;this._size[1]=a[1]-b;this._updateSize();}abview_proto.setSize=abview_set_size;function abview_get_size(){return this._size.slice();}abview_proto.getSize=abview_get_size;function abview_set_position(a){if(!a){return;}if(!Object.isArray(a)||a.length!=2){return;}if(!Object.isNumber(a[0])||!Object.isNumber(a[1])){return;}this._pos[0]=a[0];this._pos[1]=a[1];if(!this.view){return;}this._updatePos();}abview_proto.setPosition=abview_set_position;function abview_get_position(){var a=this.view;if(a&&a.parentNode){this._pos[0]=a.offsetLeft;this._pos[1]=a.offsetTop;}return this._pos.slice();}abview_proto.getPosition=abview_get_position;function abview_set_visible(a){if(a){this.show();}else{this.hide();}}abview_proto.setVisible=abview_set_visible;function abview_get_visible(){return this._visible;}abview_proto.getVisible=abview_get_visible;function abview_destructor(){var d,b,c,e;if(this.__parent){this.__parent.remove(this);}for(d in this.children){b=this.children[d];if(!b){continue;}if(Object.isArray(b)){for(c=0;c<b.length;c++){e=b[c];free(e);}}else{free(b);}delete (this.children[d]);}this.children=new Object();delete (this.view);this.apply("ABEventSource","destructor");}abview_proto.destructor=abview_destructor;function abview_refresh(){var d,b,c,e;for(d in this.children){b=this.children[d];if(!b){continue;}if(Object.isArray(b)){for(c=0;c<b.length;c++){e=b[c];if(!e||!e.refresh){continue;}e.refresh();}}else{if(b.refresh){b.refresh();}}}}abview_proto.refresh=abview_refresh;function abview__getGUInode(a){if(a.node){return a.node;}var b=null,c;if(a.node_id){b=document.getElementById(a.node_id);if(b){return b;}}if(a.id){b=document.getElementById(a.id);if(b){return b;}}return undefined;}abview_proto._getGUInode=abview__getGUInode;function abview_init(){this.apply("ABEventSource","init");this.initSkin();}abview_proto.init=abview_init;function __view_focus(){var a=document.currentEvent;if(a&&a.target&&a.target._comp_){a.target._comp_._onFocus();}}function __view_blur(){var a=document.currentEvent;if(a&&a.target&&a.target._comp_){a.target._comp_._onBlur();}}function abview_initSkin(b){var a=this.view;if(!b&&a){this._size[0]=a.offsetWidth;this._size[1]=a.offsetHeight;this._pos[0]=a.offsetLeft;this._pos[1]=a.offsetTop;}else{this._pos=new Array(2);this._pos[0]=-1;this._pos[1]=-1;this._size=new Array(2);this._size[0]=-1;this._size[1]=-1;}}abview_proto.initSkin=abview_initSkin;function abview__parse_view(a){if(!a||a.nodeType==3){return;}var c,b;if(a.attributes!=null){c=a.attributes.getNamedItem("x-hag-hole");if(c){this._holes[c.nodeValue]=a;return;}}b=a.firstElementChild;while(b){this._parse_view(b);b=b.nextElementSibling;}}abview_proto._parse_view=abview__parse_view;function abview__instrument_view(a){}abview_proto._instrument_view=abview__instrument_view;function abview__onFocus(){Page._current_focus_comp=this;if(this._navigation_delegate&&this._navigation_delegate.onFocus){this._navigation_delegate.onFocus(this);}}abview_proto._onFocus=abview__onFocus;function abview__onBlur(){if(this._navigation_delegate&&this._navigation_delegate.onBlur){this._navigation_delegate.onBlur(this);}}abview_proto._onBlur=abview__onBlur;function abview__onUp(){if(this._navigation_delegate&&this._navigation_delegate.onUp){this._navigation_delegate.onUp(this);}}abview_proto._onUp=abview__onUp;function abview__onDown(){if(this._navigation_delegate&&this._navigation_delegate.onDown){this._navigation_delegate.onDown(this);}}abview_proto._onDown=abview__onDown;function abview__onLeft(){if(this._navigation_delegate&&this._navigation_delegate.onLeft){this._navigation_delegate.onLeft(this);}}abview_proto._onLeft=abview__onLeft;function abview__onRight(){if(this._navigation_delegate&&this._navigation_delegate.onRight){this._navigation_delegate.onRight(this);}}abview_proto._onRight=abview__onRight;function abview__onBeforeActive(){if(this._navigation_delegate&&this._navigation_delegate.onBeforeActive){this._navigation_delegate.onBeforeActive(this);}}abview_proto._onBeforeActive=abview__onBeforeActive;function abview__onActive(){if(this._navigation_delegate&&this._navigation_delegate.onActive){this._navigation_delegate.onActive(this);}}abview_proto._onActive=abview__onActive;function abview_notify(a){}abview_proto.notify=abview_notify;function abview_isChild(e){if(!e){return false;}var c,b,d;for(c in this.children){b=this.children[c];if(!b){continue;}if(b==e||(Object.isArray(b)&&b.indexOf(e)!=-1)){return true;}}return false;}abview_proto.isChild=abview_isChild;function abview_add_object(i,h,e){if(!i){return;}if(!e){e=i.view;}else{i.__gui_object__hack_view__=e;}if(this.isChild(i)){return;}var f,d,c,g;if(!e){f=ABView.NON_G_OBJECT;}else{if(!h){f=ABView.ANY_PLACE;}else{f=h;}}d=this.children[f];if(d&&Object.isArray(d)){d[d.length]=i;}else{if(d){c=new Array();c[0]=d;c[1]=i;this.children[f]=c;}else{this.children[f]=i;}}i.__parent=this;}abview_proto.add_object=abview_add_object;function abview_add(b,a){this.add_object(b,a);}abview_proto.add=abview_add;function abview_remove_object(f){if(!f){return;}var d,c,e,b;if(f.__gui_object__hack_view__){b=f.__gui_object__hack_view__;}else{b=f.view;}if(b){for(d in this.children){c=this.children[d];if(!c){continue;}if(c==f||(Object.isArray(c)&&c.indexOf(f)!=-1)){if(Object.isArray(c)){c.remove(f);}else{delete (this.children[d]);}e=this._holes[d];if(e){e.removeChild(b);}f.__parent=null;break;}}}}abview_proto.remove_object=abview_remove_object;function abview_remove(a){this.remove_object(a);}abview_proto.remove=abview_remove;function abview_removeAllChildren(){var c,b,d;for(c in this.children){b=this.children[c];if(!b){continue;}if(Object.isArray(b)){while(b.length){d=b[0];this.remove(d);free(d);}}else{this.remove(b);free(b);}delete (this.children[c]);}this.children=new Object();}abview_proto.removeAllChildren=abview_removeAllChildren;function abview__updateSizeAndPos(){}abview_proto._updateSizeAndPos=abview__updateSizeAndPos;function abview__updateSize(){__setSize(this.view,this._size[0],this._size[1]);}abview_proto._updateSize=abview__updateSize;function abview__updatePos(){__setPos(this.view,this._pos[0],this._pos[1]);}abview_proto._updatePos=abview__updatePos;function abview_show(){if(!this.view){return;}if(this._visible){return;}__setVisible(this.view,true);if(this._show_animation){this._show_animation.process(this,this._show_object,this);}else{this._show_object();}}abview_proto.show=abview_show;function abview__show_object(){if(!this.view){return;}this._visible=true;}abview_proto._show_object=abview__show_object;function abview_hide(){if(!this.view){return;}if(!this._visible){return;}if(this._hide_animation){this._hide_animation.process(this,this._hide_object,this);}else{this._hide_object();}}abview_proto.hide=abview_hide;function abview__hide_object(){if(!this.view){return;}this._visible=false;__setVisible(this.view,false);}abview_proto._hide_object=abview__hide_object;function abview_setFocus(){if(!this.view){return;}browser.lockScreen();if(Page._current_focus_comp){Page._current_focus_comp._onBlur();}this._onFocus();browser.unlockScreen();}abview_proto.setFocus=abview_setFocus;var ABView=Class.create("ABView",abview_proto);Class.extend("ABView","ABEventSource");ABView.NON_G_OBJECT="_non_g_object";ABView.ANY_PLACE="children";ABView._positionStyle=undefined;var abtextlabel_proto=new Object();function abtextlabel_constructor(a){this.apply("ABView","_constructor",a);}abtextlabel_proto._constructor=abtextlabel_constructor;abtextlabel_proto._text="";function abtextlabel_set_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._text=a;__setInnerText(this.view,this._text);}abtextlabel_proto.setText=abtextlabel_set_text;function abtextlabel_get_text(){return this._text;}abtextlabel_proto.getText=abtextlabel_get_text;function abtextlabel_initSkin(){this.apply("ABView","initSkin");if(!this._text){return;}__setInnerText(this.view,this._text);}abtextlabel_proto.initSkin=abtextlabel_initSkin;var ABTextLabel=Class.create("ABTextLabel",abtextlabel_proto);Class.extend("ABTextLabel","ABView");var abnavtextlabel_proto=new Object();function abnavtextlabel_constructor(a){this.apply("ABView","_constructor",a);}abnavtextlabel_proto._constructor=abnavtextlabel_constructor;abnavtextlabel_proto._text="";abnavtextlabel_proto._focus_text=null;abnavtextlabel_proto._active_text=null;abnavtextlabel_proto._default_view=null;abnavtextlabel_proto._focus_view=null;abnavtextlabel_proto._active_view=null;function abnavtextlabel_set_size(a){if(!Object.isArray(a)&&a.length!=2){if(!Object.isNumber(a[0])||!Object.isNumber(a[1])){return;}}this.apply("ABView","setSize",a);__setSize(this._default_view,this._size[0],this._size[1]);__setSize(this._focus_view,this._size[0],this._size[1]);__setSize(this._active_view,this._size[0],this._size[1]);}abnavtextlabel_proto.setSize=abnavtextlabel_set_size;function abnavtextlabel_set_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._text=a;__setInnerText(this._default_view,this._text);if(!Object.isString(this._focus_text)){__setInnerText(this._focus_view,this._text);}if(!Object.isString(this._active_text)){__setInnerText(this._active_view,this._text);}}abnavtextlabel_proto.setText=abnavtextlabel_set_text;function abnavtextlabel_get_text(){return this._text;}abnavtextlabel_proto.getText=abnavtextlabel_get_text;function abnavtextlabel_set_focus_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._focus_text=a;__setInnerText(this._focus_view,this._focus_text);}abnavtextlabel_proto.setFocusText=abnavtextlabel_set_focus_text;function abnavtextlabel_get_focus_text(){return this._focus_text;}abnavtextlabel_proto.getFocusText=abnavtextlabel_set_focus_text;function abnavtextlabel_set_active_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._active_text=a;__setInnerText(this._active_view,this._active_text);}abnavtextlabel_proto.setActiveText=abnavtextlabel_set_active_text;function abnavtextlabel_get_active_text(){return this._active_text;}abnavtextlabel_proto.getActiveText=abnavtextlabel_get_active_text;function abnavtextlabel_destructor(){delete (this._default_view);delete (this._focus_view);delete (this._active_view);this.apply("ABView","destructor");}abnavtextlabel_proto.destructor=abnavtextlabel_destructor;function abnavtextlabel__onFocus(){__setVisible(this._default_view,false);__setVisible(this._focus_view,true);__setVisible(this._active_view,false);this.apply("ABView","_onFocus");}abnavtextlabel_proto._onFocus=abnavtextlabel__onFocus;function abnavtextlabel__onBlur(){__setVisible(this._default_view,true);__setVisible(this._focus_view,false);__setVisible(this._active_view,false);this.apply("ABView","_onBlur");}abnavtextlabel_proto._onBlur=abnavtextlabel__onBlur;function abnavtextlabel__onBeforeActive(){__setVisible(this._default_view,false);__setVisible(this._focus_view,false);__setVisible(this._active_view,true);this.apply("ABView","_onBeforeActive");}abnavtextlabel_proto._onBeforeActive=abnavtextlabel__onBeforeActive;function abnavtextlabel__onActive(){__setVisible(this._default_view,false);__setVisible(this._focus_view,true);__setVisible(this._active_view,false);this.apply("ABView","_onActive");}abnavtextlabel_proto._onActive=abnavtextlabel__onActive;function abnavtextlabel_initSkin(){this.apply("ABView","initSkin");if(this.view){var a=this.view.firstChild;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavTextLabel.initSkin 1");return;}this._default_view=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavTextLabel.initSkin 2");return;}this._focus_view=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavTextLabel.initSkin 3");return;}this._active_view=a;}}abnavtextlabel_proto.initSkin=abnavtextlabel_initSkin;var ABNavTextLabel=Class.create("ABNavTextLabel",abnavtextlabel_proto);Class.extend("ABNavTextLabel","ABView");var abnavimageview_proto=new Object();function abnavimageview_constructor(a){this.apply("ABView","_constructor",a);if(this._default_view){this._src=this._default_view.data;}if(this._active_view){this._active_src=this._active_view.data;}if(this._focus_view){this._focus_src=this._focus_view.data;}}abnavimageview_proto._constructor=abnavimageview_constructor;abnavimageview_proto._src="";abnavimageview_proto._focus_src="";abnavimageview_proto._active_src="";function abnavimageview_set_src(a){if(!Object.isString(a)){return;}this._src=a;if(this._default_view){this._default_view.data=this._src;}}abnavimageview_proto.setSrc=abnavimageview_set_src;function abnavimageview_get_src(){return this._src;}abnavimageview_proto.getSrc=abnavimageview_get_src;function abnavimageview_set_focus_src(a){if(!Object.isString(a)){return;}this._focus_src=a;if(this._focus_view){this._focus_view.data=this._focus_src;}}abnavimageview_proto.setFocusSrc=abnavimageview_set_focus_src;function abnavimageview_get_focus_src(){return this._focus_src;}abnavimageview_proto.getFocusSrc=abnavimageview_get_focus_src;function abnavimageview_set_active_src(a){if(!Object.isString(a)){return;}this._active_src=a;if(this._active_view){this._active_view.data=this._active_src;}}abnavimageview_proto.setActiveSrc=abnavimageview_set_active_src;function abnavimageview_get_active_src(){return this._active_src;}abnavimageview_proto.getActiveSrc=abnavimageview_get_active_src;function abnavimageview_set_size(a){if(!Object.isArray(a)&&a.length!=2){if(!Object.isNumber(a[0])||!Object.isNumber(a[1])){return;}}this._size[0]=a[0];this._size[1]=a[1];}abnavimageview_proto.setSize=abnavimageview_set_size;function abnavimageview_get_size(){if(this.view&&this.view.parentNode){this._size[0]=this.view.offsetWidth;this._size[1]=this.view.offsetHeight;}return this._size.slice();}abnavimageview_proto.getSize=abnavimageview_get_size;function abnavimageview__onFocus(){__setVisible(this._default_view,false);__setVisible(this._focus_view,true);__setVisible(this._active_view,false);this.apply("ABView","_onFocus");}abnavimageview_proto._onFocus=abnavimageview__onFocus;function abnavimageview__onBlur(){__setVisible(this._default_view,true);__setVisible(this._focus_view,false);__setVisible(this._active_view,false);this.apply("ABView","_onBlur");}abnavimageview_proto._onBlur=abnavimageview__onBlur;function abnavimageview__onBeforeActive(){__setVisible(this._default_view,false);__setVisible(this._focus_view,false);__setVisible(this._active_view,true);this.apply("ABView","_onBeforeActive");}abnavimageview_proto._onBeforeActive=abnavimageview__onBeforeActive;function abnavimageview__onActive(){__setVisible(this._default_view,false);__setVisible(this._focus_view,true);__setVisible(this._active_view,false);this.apply("ABView","_onActive");}abnavimageview_proto._onActive=abnavimageview__onActive;function abnavimageview_initSkin(){this.apply("ABView","initSkin");if(this.view){var a=this.view.firstChild;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavImageView.initSkin 1");return;}this._default_view=a;a=a.nextSibling;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavImageView.initSkin 2");return;}this._focus_view=a;a=a.nextSibling;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavImageView.initSkin 3");return;}this._active_view=a;}}abnavimageview_proto.initSkin=abnavimageview_initSkin;var ABNavImageView=Class.create("ABNavImageView",abnavimageview_proto);Class.extend("ABNavImageView","ABView");var abimageview_proto=new Object();function abimageview_constructor(a){this.apply("ABView","_constructor",a);if(this.view&&this.view.data){this._src=this.view.data;}}abimageview_proto._constructor=abimageview_constructor;abimageview_proto._src=null;abimageview_proto._img_view=null;function abimageview_set_src(a){if(!Object.isString(a)){return;}this._src=a;if(this._img_view){this._img_view.data=this._src;}}abimageview_proto.setSrc=abimageview_set_src;function abimageview_get_src(){return this._src;}abimageview_proto.getSrc=abimageview_get_src;function abimageview_set_size(a){if(!Object.isArray(a)&&a.length!=2){if(!Object.isNumber(a[0])||!Object.isNumber(a[1])){return;}}this._size[0]=a[0];this._size[1]=a[1];}abimageview_proto.setSize=abimageview_set_size;function abimageview_get_size(){return this._size.slice();}abimageview_proto.getSize=abimageview_get_size;function abimageview_initSkin(){this.apply("ABView","initSkin");if(this.view){this._img_view=this.view;}this._src=this._img_view.data;}abimageview_proto.initSkin=abimageview_initSkin;var ABImageView=Class.create("ABImageView",abimageview_proto);Class.extend("ABImageView","ABView");var abvideo_proto=new Object();function abvideo_constructor(a){this.apply("ABView","_constructor",a);}abvideo_proto._constructor=abvideo_constructor;abvideo_proto._src="";abvideo_proto._autoplay=false;abvideo_proto._loop=false;abvideo_proto.__video_node=null;abvideo_proto.__is_playing=false;function abvideo_setSrc(a){if(!Object.isString(a)){return;}this._src=a;if(!this.__video_node){return;}if(this.__is_playing){this.__video_node.streamStatus="stop";}this.__video_node.data=this._src;if(this.__is_playing){this.__video_node.streamStatus="play";}}abvideo_proto.setSrc=abvideo_setSrc;function abvideo_getSrc(){return this._src;}abvideo_proto.getSrc=abvideo_getSrc;function abvideo_setLoop(a){if(a){this._loop=true;}else{this._loop=false;}if(!this.__video_node){return;}if(this._loop){this.__video_node.streamlooping=1;}else{this.__video_node.streamlooping=0;}}abvideo_proto.setLoop=abvideo_setLoop;function abvideo_getLoop(){return this._loop;}abvideo_proto.getLoop=abvideo_getLoop;function abvideo_play(){if(!this.__video_node){return;}this.__video_node.streamStatus="play";this.__is_playing=true;}abvideo_proto.play=abvideo_play;function abvideo_stop(){if(!this.__video_node){return;}this.__video_node.streamStatus="stop";this.__is_playing=false;}abvideo_proto.stop=abvideo_stop;function abvideo_initSkin(){this.apply("ABView","initSkin");if(this.view){this.__video_node=this.view;}}abvideo_proto.initSkin=abvideo_initSkin;var ABVideo=Class.create("ABVideo",abvideo_proto);Class.extend("ABVideo","ABView");ABVideo.UNKNOWN_ERR=0;ABVideo.MEDIA_ERR_ABORTED=1;ABVideo.MEDIA_ERR_NETWORK=2;ABVideo.MEDIA_ERR_DECODE=3;ABVideo.MEDIA_ERR_SRC_NOT_SUPPORTED=4;var abnavbutton_proto=new Object();function abnavbutton_constructor(a){this.apply("ABView","_constructor",a);if(this._default_img_view){this._src=this._default_img_view.data;}if(this._active_img_view){this._active_src=this._active_img_view.data;}if(this._focus_img_view){this._focus_src=this._focus_img_view.data;}}abnavbutton_proto._constructor=abnavbutton_constructor;abnavbutton_proto._text="";abnavbutton_proto._src=null;abnavbutton_proto._focus_text=null;abnavbutton_proto._focus_src=null;abnavbutton_proto._active_text=null;abnavbutton_proto._active_src=null;abnavbutton_proto._default_text_view=null;abnavbutton_proto._default_img_view=null;abnavbutton_proto._focus_text_view=null;abnavbutton_proto._focus_img_view=null;abnavbutton_proto._active_text_view=null;abnavbutton_proto._active_img_view=null;function abnavbutton_setSize(b){this.apply("ABView","setSize",b);var c=2*__getBorderWidth(this._default_text_view);var d=this._size[0]-c-__getPaddingRight(this._default_text_view)-__getPaddingLeft(this._default_text_view);var a=this._size[1]-c-__getPaddingTop(this._default_text_view)-__getPaddingBottom(this._default_text_view);__setSize(this._default_text_view,d,a);c=2*__getBorderWidth(this._focus_text_view);d=this._size[0]-c-__getPaddingRight(this._focus_text_view)-__getPaddingLeft(this._focus_text_view);a=this._size[1]-c-__getPaddingTop(this._focus_text_view)-__getPaddingBottom(this._focus_text_view);__setSize(this._focus_text_view,d,a);c=2*__getBorderWidth(this._active_text_view);d=this._size[0]-c-__getPaddingRight(this._active_text_view)-__getPaddingLeft(this._active_text_view);a=this._size[1]-c-__getPaddingTop(this._active_text_view)-__getPaddingBottom(this._active_text_view);__setSize(this._active_text_view,d,a);}abnavbutton_proto.setSize=abnavbutton_setSize;function abnavbutton_set_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._text=a;__setInnerText(this._default_text_view,this._text);if(!Object.isString(this._focus_text)){__setInnerText(this._focus_text_view,this._text);}if(!Object.isString(this._active_text)){__setInnerText(this._active_text_view,this._text);}}abnavbutton_proto.setText=abnavbutton_set_text;function abnavbutton_get_text(){return this._text;}abnavbutton_proto.getText=abnavbutton_get_text;function abnavbutton_set_focus_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._focus_text=a;__setInnerText(this._focus_text_view,this._focus_text);}abnavbutton_proto.setFocusText=abnavbutton_set_focus_text;function abnavbutton_get_focus_text(){return this._focus_text;}abnavbutton_proto.getFocusText=abnavbutton_set_focus_text;function abnavbutton_set_active_text(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._active_text=a;__setInnerText(this._active_text_view,this._active_text);}abnavbutton_proto.setActiveText=abnavbutton_set_active_text;function abnavbutton_get_active_text(){return this._active_text;}abnavbutton_proto.getActiveText=abnavbutton_get_active_text;function abnavbutton_set_src(a){if(!Object.isString(a)){return;}this._src=a;if(this._default_img_view){this._default_img_view.data=this._src;}}abnavbutton_proto.setSrc=abnavbutton_set_src;function abnavbutton_get_src(){return this._src;}abnavbutton_proto.getSrc=abnavbutton_get_src;function abnavbutton_set_focus_src(a){if(!Object.isString(a)){return;}this._focus_src=a;if(this._focus_img_view){this._focus_img_view.data=this._focus_src;}}abnavbutton_proto.setFocusSrc=abnavbutton_set_focus_src;function abnavbutton_get_focus_src(){return this._focus_src;}abnavbutton_proto.getFocusSrc=abnavbutton_get_focus_src;function abnavbutton_set_active_src(a){if(!Object.isString(a)){return;}this._active_src=a;if(this._active_img_view){this._active_img_view.data=this._active_src;}}abnavbutton_proto.setActiveSrc=abnavbutton_set_active_src;function abnavbutton_get_active_src(){return this._active_src;}abnavbutton_proto.getActiveSrc=abnavbutton_get_active_src;function abnavbutton_destructor(){if(this.view){this._default_img_view.data="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";this._focus_img_view.data="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";this._active_img_view.data="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";delete (this._default_img_view);delete (this._focus_img_view);delete (this._active_img_view);}this.apply("ABView","destructor");}abnavbutton_proto.destructor=abnavbutton_destructor;function abnavbutton__onFocus(){__setVisible(this._default_img_view,false);__setVisible(this._focus_img_view,true);__setVisible(this._active_img_view,false);__setVisible(this._default_text_view,false);__setVisible(this._focus_text_view,true);__setVisible(this._active_text_view,false);this.apply("ABView","_onFocus");}abnavbutton_proto._onFocus=abnavbutton__onFocus;function abnavbutton__onBlur(){__setVisible(this._default_img_view,true);__setVisible(this._focus_img_view,false);__setVisible(this._active_img_view,false);__setVisible(this._default_text_view,true);__setVisible(this._focus_text_view,false);__setVisible(this._active_text_view,false);this.apply("ABView","_onBlur");}abnavbutton_proto._onBlur=abnavbutton__onBlur;function abnavbutton__onBeforeActive(){__setVisible(this._default_img_view,false);__setVisible(this._focus_img_view,false);__setVisible(this._active_img_view,true);__setVisible(this._default_text_view,false);__setVisible(this._focus_text_view,false);__setVisible(this._active_text_view,true);this.apply("ABView","_onBeforeActive");}abnavbutton_proto._onBeforeActive=abnavbutton__onBeforeActive;function abnavbutton__onActive(){__setVisible(this._default_img_view,false);__setVisible(this._focus_img_view,true);__setVisible(this._active_img_view,false);__setVisible(this._default_text_view,false);__setVisible(this._focus_text_view,true);__setVisible(this._active_text_view,false);this.apply("ABView","_onActive");this.propagate("select");}abnavbutton_proto._onActive=abnavbutton__onActive;function navbutton_initstateview(b,a){while(b&&__getTagName(b)!="object"&&__getTagName(b)!="OBJECT"){b=b.nextSibling;}if(!b){printlnConsole("ERROR ABNavButton.initStateView 1");return;}if(!b){printlnConsole("ERROR ABNavButton.initStateView 1");return;}this["_"+a+"_img_view"]=b;b=b.nextSibling;while(b&&__getTagName(b)!="p"&&__getTagName(b)!="P"){b=b.nextSibling;}if(!b){printlnConsole("ERROR ABNavButton.initStateView 2");return;}this["_"+a+"_text_view"]=b;b=b.nextSibling;return b;}abnavbutton_proto._initStateView=navbutton_initstateview;function abnavbutton_initSkin(){this.apply("ABView","initSkin");if(this.view){var a=this.view.firstChild;a=this._initStateView(a,"default");a=this._initStateView(a,"focus");a=this._initStateView(a,"active");__setVisible(this._default_img_view,true);__setVisible(this._focus_img_view,false);__setVisible(this._active_img_view,false);__setVisible(this._default_text_view,true);__setVisible(this._focus_text_view,false);__setVisible(this._active_text_view,false);__setPos(this._default_text_view,0,0);__setPos(this._default_img_view,0,0);__setPos(this._focus_text_view,0,0);__setPos(this._focus_img_view,0,0);__setPos(this._active_text_view,0,0);__setPos(this._active_img_view,0,0);this.setSize(__getSize(this.view));}}abnavbutton_proto.initSkin=abnavbutton_initSkin;var ABNavButton=Class.create("ABNavButton",abnavbutton_proto);Class.extend("ABNavButton","ABView");var abnavsegmentedbutton_proto=new Object();var __nsb_current_object=null;function abnavsegmentedbutton_constructor(a){this.apply("ABView","_constructor",a);this._buttons=new Array();this._images=new Array();this._texts=new Array();}abnavsegmentedbutton_proto._constructor=abnavsegmentedbutton_constructor;abnavsegmentedbutton_proto._data=null;abnavsegmentedbutton_proto._focused_item=0;function abnavsegmentedbutton_setSize(j){this.apply("ABView","setSize",j);var b=0;var g=this._texts.length;if(g){var d=this._size[0]/g;var k=this._size[1];var c=this._texts[0];var e=2*__getBorderWidth(c);var h=__getPaddingTop(c)+__getPaddingBottom(c);for(var f=0;f<g;f++){var a=this._buttons[f];c=this._texts[f];__setSize(a,d,k);__setSize(c,d-e,k-e-h);__setPos(a,b,0);b+=d;}}}abnavsegmentedbutton_proto.setSize=abnavsegmentedbutton_setSize;function abnavsegmentedbutton__focus_next(){if(this._focused_item>=this._texts.length-1){return false;}this._focused_item++;this._onFocus();return true;}abnavsegmentedbutton_proto._onFocusNext=abnavsegmentedbutton__focus_next;function abnavsegmentedbutton__focus_pred(){if(this._focused_item<=0){return false;}this._focused_item--;this._onFocus();return true;}abnavsegmentedbutton_proto._onFocusPred=abnavsegmentedbutton__focus_pred;var __nsb_to_blur=false;function __nsb_keydown(b){if(!b){b=document.currentEvent;}var c=false;if(__nsb_current_object){if(b.keyCode==KEYBOARD.ENTER){return;}if(b.keyCode==KEYBOARD.RIGHT_ARROW){c=__nsb_current_object._onFocusNext();}else{if(b.keyCode==KEYBOARD.LEFT_ARROW){c=__nsb_current_object._onFocusPred();}}}if(!c){var a=new Object();a.type=b.keyCode;a.data=b;for(key in Application_applications){obj=Application_applications[key];if(obj._hasNavigation(a)){__nsb_current_object=null;__init_keyboard_handler();obj.keyboardListener(a);return;}}}}function abnavsegmentedbutton_set_data(b){if(typeof(b)=="undefined"){b=new Array();}else{if(!Object.isArray(b)){return;}}var a=this._texts.length;for(var c=0;c<a;c++){var d=this._texts[c];var e=b[c];__setInnerText(d,e);}this._data=b;this._focused_item=0;this.setSize(__getSize(this.view));}abnavsegmentedbutton_proto.setData=abnavsegmentedbutton_set_data;function abnavsegmentedbutton__onFocus(){this.apply("ABView","_onFocus");var a=this._texts[this._focused_item];if(a){a.focus();}__nsb_current_object=this;}abnavsegmentedbutton_proto._onFocus=abnavsegmentedbutton__onFocus;function abnavsegmentedbutton__onBlur(){this.apply("ABView","_onBlur");var a=this._texts[this._focused_item];if(a){a.blur();}__nsb_current_object=null;}abnavsegmentedbutton_proto._onFocus=abnavsegmentedbutton__onFocus;function abnavsegmentedbutton_destructor(){if(this.view){}this.apply("ABView","destructor");}abnavsegmentedbutton_proto.destructor=abnavsegmentedbutton_destructor;function abnavsegmentedbutton_init_button(d,b){while(d&&__getTagName(d)!="div"&&__getTagName(d)!="DIV"){d=d.nextSibling;}if(!d){printlnConsole("ERROR ABNavSegmentedButton.initButton 1");return;}var c=d;this._buttons[b]=c;var a=c.firstChild;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavSegmentedButton.initStateView 1");return;}this._images[b]=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABNavSegmentedButton.initStateView 2");return;}this._texts[b]=a;d=d.nextSibling;return d;}abnavsegmentedbutton_proto._initButton=abnavsegmentedbutton_init_button;function abnavsegmentedbutton_initSkin(){this.apply("ABView","initSkin");if(this.view){var b=this.view.firstChild;var a=0;while(b){b=this._initButton(b,a);a++;}this.setSize(__getSize(this.view));}}abnavsegmentedbutton_proto.initSkin=abnavsegmentedbutton_initSkin;var ABNavSegmentedButton=Class.create("ABNavSegmentedButton",abnavsegmentedbutton_proto);Class.extend("ABNavSegmentedButton","ABView");var abswitch_proto=new Object();function abswitch_constructor(a){this.apply("ABView","_constructor",a);}abswitch_proto._constructor=abswitch_constructor;abswitch_proto._text_on="On";abswitch_proto._text_off="Off";abswitch_proto._toggle=true;function abswitch_setSize(b){this.apply("ABView","setSize",b);var c=this._size[0]-__getPaddingRight(this._on_view)-__getPaddingLeft(this._on_view)-20;var a=this._size[1]-__getPaddingTop(this._on_view)-__getPaddingBottom(this._on_view);__setSize(this._on_view,c,a);__setPos(this._on_view,0,0);c=this._size[0]-__getPaddingRight(this._off_view)-__getPaddingLeft(this._off_view)-20;a=this._size[1]-__getPaddingTop(this._off_view)-__getPaddingBottom(this._off_view);__setSize(this._off_view,c,a);__setPos(this._off_view,20,0);}abswitch_proto.setSize=abswitch_setSize;function abswitch_set_toggle(a){if(a){this._toggle=true;__setVisible(this._on_view,true);__setVisible(this._off_view,false);}else{this._toggle=false;__setVisible(this._on_view,false);__setVisible(this._off_view,true);}}abswitch_proto.setToggle=abswitch_set_toggle;function abswitch_get_toggle(){return this._toggle;}abswitch_proto.getToggle=abswitch_get_toggle;function abswitch_set_text_on(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._text_on=a;__setInnerText(this._on_view,this._text_on);}abswitch_proto.setTextOn=abswitch_set_text_on;function abswitch_get_text_on(){return this._text_on;}abswitch_proto.getTextOn=abswitch_get_text_on;function abswitch_set_text_off(a){if(typeof(a)=="undefined"){a="";}else{if(Object.isNumber(a)){a=""+a;}else{if(!Object.isString(a)){if(!a.toString){return;}a=a.toString();}}}this._text_off=a;__setInnerText(this._off_view,this._text_off);}abswitch_proto.setTextOff=abswitch_set_text_off;function abswitch_get_text_off(){return this._text_off;}abswitch_proto.getTextOff=abswitch_get_text_off;function abswitch__onFocus(){this.view.normalStyle.borderBottomColorIndex=7;this.apply("ABView","_onFocus");}abswitch_proto._onFocus=abswitch__onFocus;function abswitch__onBlur(){this.view.normalStyle.borderBottomColorIndex=15;this.apply("ABView","_onBlur");}abswitch_proto._onBlur=abswitch__onBlur;function abswitch__onBeforeActive(){this.setToggle(!this._toggle);this.apply("ABView","_onBeforeActive");}abswitch_proto._onBeforeActive=abswitch__onBeforeActive;function abswitch__onActive(){this.apply("ABView","_onBeforeActive");this.propagate("change",this._toggle);}abswitch_proto._onActive=abswitch__onActive;function abswitch_initSkin(){this.apply("ABView","initSkin");if(this.view){var a=this.view.firstChild;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABSwitch.initStateView 1");return;}this._on_view=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABSwitch.initStateView 2");return;}this._off_view=a;this.setSize(__getSize(this.view));this.setToggle(this._toggle);}}abswitch_proto.initSkin=abswitch_initSkin;var ABSwitch=Class.create("ABSwitch",abswitch_proto);Class.extend("ABSwitch","ABView");var abradiobutton_proto=new Object();var __nrb_current_object=null;function abradiobutton_constructor(a){this.apply("ABView","_constructor",a);this._buttons=new Array();this._images=new Array();this._texts=new Array();this._checks=new Array();}abradiobutton_proto._constructor=abradiobutton_constructor;abradiobutton_proto._data=null;abradiobutton_proto._selected_index=-1;abradiobutton_proto._focused_item=0;function abradiobutton_setSize(l){this.apply("ABView","setSize",l);var a=0;var h=this._texts.length;if(h){var d=this._size[0];var m=this._size[1]/h;var j=(m-24)/2;var c=this._texts[0],e;var f=2*__getBorderWidth(c);var k=__getPaddingTop(c)+__getPaddingBottom(c);for(var g=0;g<h;g++){var b=this._buttons[g];c=this._texts[g];e=this._checks[g];__setSize(b,d,m);__setSize(c,d-f,m-f-k);__setPos(b,0,a);__setPos(e,d-30,j);a+=m;}}}abradiobutton_proto.setSize=abradiobutton_setSize;function abradiobutton_set_selectedIndex(b){if(!Object.isNumber(b)){return;}if(b<0||b>this._buttons.length-1){return;}if(this._selected_index==b){return;}if(this._selected_index>=0){var a=this._checks[this._selected_index];if(a){a.normalStyle.backgroundColorIndex=8;}}if(this._buttons[b]){var a=this._checks[b];if(a){a.normalStyle.backgroundColorIndex=7;this._selected_index=b;}}}abradiobutton_proto.setSelectedIndex=abradiobutton_set_selectedIndex;function abradiobutton_get_selectedIndex(){return this._selected_index;}abradiobutton_proto.getSelectedIndex=abradiobutton_get_selectedIndex;function abradiobutton__focus_next(){if(this._focused_item>=this._texts.length-1){return false;}this._focused_item++;this._onFocus();return true;}abradiobutton_proto._onFocusNext=abradiobutton__focus_next;function abradiobutton__focus_pred(){if(this._focused_item<=0){return false;}this._focused_item--;this._onFocus();return true;}abradiobutton_proto._onFocusPred=abradiobutton__focus_pred;function abradiobutton__onBeforeActive(){this.apply("ABView","_onBeforeActive");this.setSelectedIndex(this._focused_item);var a=new Object();a.index=this._selected_index;a.item=__getInnerText(this._texts[this._selected_index]);this.propagate("change",a);}abradiobutton_proto._onBeforeActive=abradiobutton__onBeforeActive;function __nrb_keydown(b){if(!b){b=document.currentEvent;}var c=false;if(__nrb_current_object){if(b.keyCode==KEYBOARD.ENTER){__nrb_current_object._onBeforeActive();}if(b.keyCode==KEYBOARD.DOWN_ARROW){c=__nrb_current_object._onFocusNext();}else{if(b.keyCode==KEYBOARD.UP_ARROW){c=__nrb_current_object._onFocusPred();}}}if(!c){var a=new Object();a.type=b.keyCode;a.data=b;for(key in Application_applications){obj=Application_applications[key];if(obj._hasNavigation(a)){__nrb_current_object=null;__init_keyboard_handler();obj.keyboardListener(a);return;}}}}function abradiobutton_set_data(b){if(typeof(b)=="undefined"){b=new Array();}else{if(!Object.isArray(b)){return;}}var a=this._texts.length;for(var c=0;c<a;c++){var d=this._texts[c];var e=b[c];__setInnerText(d,e);}this._data=b;this._focused_item=0;this.setSize(__getSize(this.view));}abradiobutton_proto.setData=abradiobutton_set_data;function abradiobutton__onFocus(){this.apply("ABView","_onFocus");var a=this._texts[this._focused_item];if(a){a.focus();}__nrb_current_object=this;}abradiobutton_proto._onFocus=abradiobutton__onFocus;function abradiobutton__onBlur(){this.apply("ABView","_onBlur");var a=this._texts[this._focused_item];if(a){a.blur();}__nrb_current_object=null;}abradiobutton_proto._onFocus=abradiobutton__onFocus;function abradiobutton_destructor(){if(this.view){}this.apply("ABView","destructor");}abradiobutton_proto.destructor=abradiobutton_destructor;function abradiobutton_init_button(d,b){while(d&&__getTagName(d)!="div"&&__getTagName(d)!="DIV"){d=d.nextSibling;}if(!d){printlnConsole("ERROR ABRadioButton.initButton 1");return;}var c=d;this._buttons[b]=c;var a=c.firstChild;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABRadioButton.initStateView 1");return;}this._images[b]=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABRadioButton.initStateView 2");return;}this._texts[b]=a;a=a.nextSibling;while(a&&__getTagName(a)!="div"&&__getTagName(a)!="DIV"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABRadioButton.initStateView 3");return;}this._checks[b]=a;d=d.nextSibling;return d;}abradiobutton_proto._initButton=abradiobutton_init_button;function abradiobutton_initSkin(){this.apply("ABView","initSkin");if(this.view){var b=this.view.firstChild;var a=0;while(b){b=this._initButton(b,a);a++;}this.setSize(__getSize(this.view));}}abradiobutton_proto.initSkin=abradiobutton_initSkin;var ABRadioButton=Class.create("ABRadioButton",abradiobutton_proto);Class.extend("ABRadioButton","ABView");var abcheckbutton_proto=new Object();var __ncb_current_object=null;function abcheckbutton_constructor(a){this.apply("ABView","_constructor",a);this._buttons=new Array();this._images=new Array();this._texts=new Array();this._checks=new Array();this._selected_indexes=new Array();}abcheckbutton_proto._constructor=abcheckbutton_constructor;abcheckbutton_proto._data=null;abcheckbutton_proto._selected_indexes=null;abcheckbutton_proto._focused_item=0;function abcheckbutton_setSize(l){this.apply("ABView","setSize",l);var a=0;var h=this._texts.length;if(h){var d=this._size[0];var m=this._size[1]/h;var j=(m-24)/2;var c=this._texts[0],e;var f=2*__getBorderWidth(c);var k=__getPaddingTop(c)+__getPaddingBottom(c);for(var g=0;g<h;g++){var b=this._buttons[g];c=this._texts[g];e=this._checks[g];__setSize(b,d,m);__setSize(c,d-f,m-f-k);__setPos(b,0,a);__setPos(e,d-30,j);a+=m;}}}abcheckbutton_proto.setSize=abcheckbutton_setSize;function abcheckbutton_changeAtIndex(b){if(!Object.isNumber(b)){return;}var c,a;for(c=0;c<this._selected_indexes.length;c++){if(b==this._selected_indexes[c]){a=this._checks[b];if(a){a.normalStyle.backgroundColorIndex=8;}this._selected_indexes.remove(c);return;}}a=this._checks[b];if(a){a.normalStyle.backgroundColorIndex=7;}this._selected_indexes[this._selected_indexes.length]=b;}abcheckbutton_proto.changeAtIndex=abcheckbutton_changeAtIndex;function abcheckbutton_set_selectedIndexes(b){if(!Object.isArray(b)){return;}var c,a;for(c=0;c<this._checks.length;c++){a=this._checks[c];if(a){a.normalStyle.backgroundColorIndex=8;}}this._selected_indexes=b.slice();for(c=0;c<this._selected_indexes.length;c++){a=this._checks[this._selected_indexes[c]];if(a){a.normalStyle.backgroundColorIndex=8;}}}abcheckbutton_proto.setSelectedIndexes=abcheckbutton_set_selectedIndexes;function abcheckbutton_get_selectedIndexes(){return this._selected_indexes.slice();}abcheckbutton_proto.getSelectedIndexes=abcheckbutton_get_selectedIndexes;function abcheckbutton__focus_next(){if(this._focused_item>=this._texts.length-1){return false;}this._focused_item++;this._onFocus();return true;}abcheckbutton_proto._onFocusNext=abcheckbutton__focus_next;function abcheckbutton__focus_pred(){if(this._focused_item<=0){return false;}this._focused_item--;this._onFocus();return true;}abcheckbutton_proto._onFocusPred=abcheckbutton__focus_pred;function abcheckbutton__onBeforeActive(){this.apply("ABView","_onBeforeActive");this.changeAtIndex(this._focused_item);var a=new Object();a.index=this._focused_item;this.propagate("change",a);}abcheckbutton_proto._onBeforeActive=abcheckbutton__onBeforeActive;function __ncb_keydown(b){if(!b){b=document.currentEvent;}var c=false;if(__ncb_current_object){if(b.keyCode==KEYBOARD.ENTER){__ncb_current_object._onBeforeActive();}if(b.keyCode==KEYBOARD.DOWN_ARROW){c=__ncb_current_object._onFocusNext();}else{if(b.keyCode==KEYBOARD.UP_ARROW){c=__ncb_current_object._onFocusPred();}}}if(!c){var a=new Object();a.type=b.keyCode;a.data=b;for(key in Application_applications){obj=Application_applications[key];if(obj._hasNavigation(a)){__ncb_current_object=null;__init_keyboard_handler();obj.keyboardListener(a);return;}}}}function abcheckbutton_set_data(b){if(typeof(b)=="undefined"){b=new Array();}else{if(!Object.isArray(b)){return;}}var a=this._texts.length;for(var c=0;c<a;c++){var d=this._texts[c];var e=b[c];__setInnerText(d,e);}this._data=b;this._focused_item=0;this.setSize(__getSize(this.view));}abcheckbutton_proto.setData=abcheckbutton_set_data;function abcheckbutton__onFocus(){this.apply("ABView","_onFocus");var a=this._texts[this._focused_item];if(a){a.focus();}__ncb_current_object=this;}abcheckbutton_proto._onFocus=abcheckbutton__onFocus;function abcheckbutton__onBlur(){this.apply("ABView","_onBlur");var a=this._texts[this._focused_item];if(a){a.blur();}__ncb_current_object=null;}abcheckbutton_proto._onFocus=abcheckbutton__onFocus;function abcheckbutton_init_button(d,b){while(d&&__getTagName(d)!="div"&&__getTagName(d)!="DIV"){d=d.nextSibling;}if(!d){printlnConsole("ERROR ABCheckButton.initButton 1");return;}var c=d;this._buttons[b]=c;var a=c.firstChild;while(a&&__getTagName(a)!="object"&&__getTagName(a)!="OBJECT"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABCheckButton.initStateView 1");return;}this._images[b]=a;a=a.nextSibling;while(a&&__getTagName(a)!="p"&&__getTagName(a)!="P"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABCheckButton.initStateView 2");return;}this._texts[b]=a;a=a.nextSibling;while(a&&__getTagName(a)!="div"&&__getTagName(a)!="DIV"){a=a.nextSibling;}if(!a){printlnConsole("ERROR ABCheckButton.initStateView 3");return;}this._checks[b]=a;d=d.nextSibling;return d;}abcheckbutton_proto._initButton=abcheckbutton_init_button;function abcheckbutton_initSkin(){this.apply("ABView","initSkin");if(this.view){var b=this.view.firstChild;var a=0;while(b){b=this._initButton(b,a);a++;}this.setSize(__getSize(this.view));}}abcheckbutton_proto.initSkin=abcheckbutton_initSkin;var ABCheckButton=Class.create("ABCheckButton",abcheckbutton_proto);Class.extend("ABCheckButton","ABView");var page_proto=new Object();page_proto.__nagivation_graph=null;function page_constructor(a){this.apply("ABView","_constructor",a);__init_keyboard_handler();Page_pages[this.id]=this;}page_proto._constructor=page_constructor;var Page_pages=new Object();function page_initSkin(){this.apply("ABView","initSkin");this.body=this.view;KEYBOARD.bind(KEYBOARD.UP_ARROW,this,"keyboardListener");KEYBOARD.bind(KEYBOARD.DOWN_ARROW,this,"keyboardListener");KEYBOARD.bind(KEYBOARD.LEFT_ARROW,this,"keyboardListener");KEYBOARD.bind(KEYBOARD.RIGHT_ARROW,this,"keyboardListener");KEYBOARD.bind(KEYBOARD.KEY_UP+KEYBOARD.ENTER,this,"keyboardListener");KEYBOARD.bind(KEYBOARD.ENTER,this,"keyboardListener");}page_proto.initSkin=page_initSkin;function page_goToPage(a,b){if(!a){return;}browser.lockScreen();if(b){browser.launchDocument(a+".bml?"+b);}else{browser.launchDocument(a+".bml");}browser.unlockScreen();}page_proto.goToPage=page_goToPage;function page_goToIndexPage(a){browser.lockScreen();if(a){browser.launchDocument("index.bml?"+a);}else{browser.launchDocument("index.bml");}browser.unlockScreen();}page_proto.goToIndexPage=page_goToIndexPage;function page_setNavigationGraph(a){if(!a){return;}this.__nagivation_graph=a;}page_proto.setNavigationGraph=page_setNavigationGraph;function page_has_navigation(c){if(!Page._current_focus_comp){return false;}if(!this.__nagivation_graph){return false;}var a=Page._current_focus_comp;var b=this.__nagivation_graph[a.id];if(b){var d=b[c.type];if(ABObject._obs[d]){return true;}}return false;}page_proto._hasNavigation=page_has_navigation;function page_keyboardListener(c){if(!Page._current_focus_comp){return false;}var a=Page._current_focus_comp;if(!a){return false;}if(!this.__nagivation_graph){return false;}browser.lockScreen();var b=this.__nagivation_graph[a.id];var d=false;if(b){var e=b[c.type];if(ABObject._obs[e]){ABObject._obs[e]._onFocus();a._onBlur();d=true;}}if(c.type==KEYBOARD.UP_ARROW){a._onUp();}else{if(c.type==KEYBOARD.DOWN_ARROW){a._onDown();}else{if(c.type==KEYBOARD.LEFT_ARROW){a._onLeft();}else{if(c.type==KEYBOARD.RIGHT_ARROW){a._onRight();}else{if(c.type==KEYBOARD.ENTER){a._onBeforeActive();}else{if(c.type==KEYBOARD.ENTER+KEYBOARD.KEY_UP){a._onActive();}}}}}}browser.unlockScreen();return d;}page_proto.keyboardListener=page_keyboardListener;function page_usedKeyList(a){if(!this.body){return;}this.body.normalStyle.usedKeyList=a;}page_proto.setUsedKeyList=page_usedKeyList;function page_setFocus(){__init_keyboard_handler();}page_proto.setFocus=page_setFocus;var Page=Class.create("Page",page_proto);Class.extend("Page","ABView");Page._current_focus_comp=null;function page_sendStart(){var a,b;for(a in Page_pages){b=Page_pages[a];b.propagate("start");}}Page.sendStart=page_sendStart;var application_proto=new Object();application_proto.__nagivation_graph=null;function application_constructor(a){this.apply("Page","_constructor",a);Application_applications[this.id]=this;}application_proto._constructor=application_constructor;var Application_applications=new Object();function application_exit(){if(close){close();}}application_proto.exit=application_exit;var Application=Class.create("Application",application_proto);Class.extend("Application","Page");